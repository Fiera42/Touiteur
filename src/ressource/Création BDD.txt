create table TouiteurUser (
	idUser int primary key not null,
	role varchar(10),
	name varchar(20),
	fullname varchar(20),
	email varchar(30),
	password varchar(30)
	);

create table Touit (
	idtouit int primary key not null,
	idUser int,
	text varchar(235),
	date Date,
	note int
	);

create table Tag (
	idtag int primary key not null,
	tagName varchar(20),
	description varchar(100),
	nbUsage int
	);

create table Image (
	idimage int primary key not null,
	altImage varchar(100),
	imagePath varchar(50),
	idtouit int
	);

create table FollowUser (
	idUser int not null,
	idFollower int not null,
    CONSTRAINT PK_suivi PRIMARY KEY (idUser , idFollower)
	);

create table FollowTag (
	idTag int not null,
	idFollower int not null,
    CONSTRAINT PK_suivitag PRIMARY KEY (idTag , idFollower)
	);
    
create table TouitTag (
	idtouit int not null,
	idtag int not null,
    CONSTRAINT PK_suivitag PRIMARY KEY (idtouit , idtag)
	);

create table VoteTouit (
	idUser int not null,
	idtouit int not null,
	eval boolean,
    CONSTRAINT PK_liker PRIMARY KEY (idUser , idtouit)
	);

ALTER TABLE Touit
   ADD CONSTRAINT FK_touit_uti FOREIGN KEY (idUser)
      REFERENCES TouiteurUser (idUser);

ALTER TABLE Image
   ADD CONSTRAINT FK_image_touit FOREIGN KEY (idtouit)
      REFERENCES Touit (idtouit);

ALTER TABLE FollowUser
   ADD CONSTRAINT FK_uti1_uti FOREIGN KEY (idUser)
      REFERENCES TouiteurUser (idUser);

ALTER TABLE FollowUser
   ADD CONSTRAINT FK_uti2_uti FOREIGN KEY (idFollower)
      REFERENCES TouiteurUser (idUser);

ALTER TABLE FollowTag
   ADD CONSTRAINT FK_suivtag_uti FOREIGN KEY (idtag)
      REFERENCES TouiteurUser (idUser);

ALTER TABLE FollowTag
   ADD CONSTRAINT FK_suivtag_tag FOREIGN KEY (idTag)
      REFERENCES tag (idTag);

ALTER TABLE TouitTag
   ADD CONSTRAINT FK_touittag_touit FOREIGN KEY (idtouit)
      REFERENCES Touit (idtouit);

ALTER TABLE TouitTag
   ADD CONSTRAINT FK_touittag_tag FOREIGN KEY (idtag)
      REFERENCES Tag (idtag);

ALTER TABLE VoteTouit
   ADD CONSTRAINT FK_liker_touit FOREIGN KEY (idtouit)
      REFERENCES Touit (idtouit);

ALTER TABLE VoteTouit
   ADD CONSTRAINT FK_liker_uti FOREIGN KEY (idUser)
      REFERENCES TouiteurUser (idUser);